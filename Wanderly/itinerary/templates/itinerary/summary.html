{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Itinerary Summary</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'styles.css' %}">
  <link rel="stylesheet" href="{% static 'navbar.css' %}">
</head>
<body class="bg-light">
  <nav>{% include "navbar.html" %}</nav>

  <header class="info-section text-white">
    <div class="container py-5">
      <div class="row align-items-center g-5">
        <div class="col-lg-7">
          <h1 class="display-5 fw-bold mb-3">Itinerary Created!</h1>
          <p class="lead mb-0">
            Your itinerary has been successfully created. Review the details below.
          </p>
        </div>
      </div>
    </div>
  </header>

  <section class="container py-4">
    <div class="card shadow-sm rounded-xxl gradient-card p-4 p-md-5">
      <h2 class="mb-4">{{ itinerary.location }}</h2>

      <div class="row g-4">
        <div class="col-md-6">
          <h4 class="text-primary mb-3">Time Preferences</h4>
          <dl class="row">
            {% if itinerary.wake_up_time %}
            <dt class="col-sm-5">Wake-up Time:</dt>
            <dd class="col-sm-7">{{ itinerary.wake_up_time|time:"g:i A" }}</dd>
            {% endif %}

            {% if itinerary.sleep_time %}
            <dt class="col-sm-5">Sleep Time:</dt>
            <dd class="col-sm-7">{{ itinerary.sleep_time|time:"g:i A" }}</dd>
            {% endif %}

            {% if itinerary.enable_meals %}
              {% if itinerary.breakfast_time %}
              <dt class="col-sm-5">Breakfast:</dt>
              <dd class="col-sm-7">{{ itinerary.breakfast_time|time:"g:i A" }}</dd>
              {% endif %}

              {% if itinerary.lunch_time %}
              <dt class="col-sm-5">Lunch:</dt>
              <dd class="col-sm-7">{{ itinerary.lunch_time|time:"g:i A" }}</dd>
              {% endif %}

              {% if itinerary.dinner_time %}
              <dt class="col-sm-5">Dinner:</dt>
              <dd class="col-sm-7">{{ itinerary.dinner_time|time:"g:i A" }}</dd>
              {% endif %}
            {% endif %}

            {% if itinerary.break_frequency %}
            <dt class="col-sm-5">Break Frequency:</dt>
            <dd class="col-sm-7">{{ itinerary.get_break_frequency_display }}</dd>
            {% endif %}

            {% if itinerary.break_duration %}
            <dt class="col-sm-5">Break Duration:</dt>
            <dd class="col-sm-7">{{ itinerary.get_break_duration_display }}</dd>
            {% endif %}

            {% if itinerary.schedule_strictness %}
            <dt class="col-sm-5">Schedule Style:</dt>
            <dd class="col-sm-7">{{ itinerary.get_schedule_strictness_display }}</dd>
            {% endif %}

            {% if itinerary.preferred_start_time %}
            <dt class="col-sm-5">Preferred Start:</dt>
            <dd class="col-sm-7">{{ itinerary.preferred_start_time|time:"g:i A" }}</dd>
            {% endif %}

            {% if itinerary.preferred_end_time %}
            <dt class="col-sm-5">Preferred End:</dt>
            <dd class="col-sm-7">{{ itinerary.preferred_end_time|time:"g:i A" }}</dd>
            {% endif %}
          </dl>
        </div>

        <div class="col-md-6">
          <h4 class="text-primary mb-3">Budget</h4>
          <dl class="row">
            <dt class="col-sm-5">Total Budget:</dt>
            <dd class="col-sm-7">${{ itinerary.total_budget }}</dd>
          </dl>

          {% if itinerary.budget_items.all %}
          <h5 class="mt-3 mb-2">Budget Breakdown</h5>
          <ul class="list-unstyled">
            {% for item in itinerary.budget_items.all %}
            <li class="mb-2">
              <strong>{{ item.effective_category }}:</strong> ${{ item.amount }}
            </li>
            {% endfor %}
          </ul>
          {% endif %}
        </div>
      </div>

      <hr class="my-4">

      <div class="d-flex justify-content-between">
        <a href="{% url 'itinerary:time_preferences' %}" class="btn btn-outline-primary">Create Another Itinerary</a>
        <a href="/" class="btn btn-primary">Back to Home</a>
      </div>
    </div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
