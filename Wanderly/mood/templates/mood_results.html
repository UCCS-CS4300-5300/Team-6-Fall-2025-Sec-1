{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Your Mood-Based Activity Recommendations</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="{% static 'mood_results_styles.css' %}">
  <link rel="stylesheet" href="{% static 'navbar.css' %}">
</head>

<body>
  <header class="results-header">
    {% include "navbar.html" %}
    <div class="container py-5">
      <div class="row align-items-center g-5">
        <div class="col-lg-8 text-center text-lg-start">
          <h1 class="display-5 fw-extrabold mb-3">Your Activity Recommendations</h1>
          <p class="lead mb-0">
            Wanderly created a list of activites based on your mood and interests check it out!
          </p>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="bg-light py-5">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">

          <!-- Mood Summary -->
          <div class="mood-summary">
            <h3> Your Mood Profile</h3>
            <div class="mood-stat">
              <strong>Destination:</strong>
              <span>{{ destination }}</span>
            </div>
            <div class="mood-stat">
              <strong>Adventurousness Level:</strong>
              <span>{{ adventurous }}/5</span>
            </div>
            <div class="mood-stat">
              <strong>Energy Level:</strong>
              <span>{{ energy }}/5</span>
            </div>
            <div>
              <strong>Your Interests:</strong>
              <div class="interests-list">
                {% for interest in interests %}
                <span class="interest-badge">{{ interest }}</span>
                {% endfor %}
              </div>
            </div>
          </div>

          <!-- Error Message (if any) -->
          {% if error %}
          <div class="error-message">
            <i class="bi bi-exclamation-circle"></i> {{ error }}
          </div>
          {% endif %}

          <!-- Recommendations -->
          {% if activities %}
          <section class="recommendations-section">
            <h2>Recommended Activities</h2>

            {% for activity in activities %}
            <div class="activity-card">
              {% if activity.title %}
              <h3>{{ activity.title }}</h3>
              {% elif activity.name %}
              <h3>{{ activity.name }}</h3>
              {% endif %}

              {% if activity.description %}
              <p>{{ activity.description }}</p>
              {% elif activity.why %}
              <p>{{ activity.why }}</p>
              {% endif %}

              {% if activity.type %}
              <span class="activity-label"><i class="bi bi-tag"></i> {{ activity.type }}</span>
              {% endif %}

              {% if activity.why_recommended %}
              <p><strong>Recommended:</strong> {{ activity.why_recommended }}</p>
              {% endif %}

              {% if activity.duration %}
              <span class="activity-label"><i class="bi bi-clock"></i> {{ activity.duration }}</span>
              {% endif %}
            </div>
            {% endfor %}
          </section>
          {% else %}
          <div class="loading-spinner">
            <p><i class="bi bi-info-circle"></i> No activities returned from the AI.</p>
          </div>
          {% endif %}

          <!-- Action Buttons -->
          <div class="action-buttons">
            <a href="{% url 'mood:mood_questionnaire' %}" class="btn-secondary-custom">
              <i class="bi bi-arrow-left"></i> Try Again
            </a>
            <a href="/" class="btn-primary-custom">Home</a>
          </div>

        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="py-4 mt-5">
    <div class="container">
      <div class="row align-items-center gy-3">
        <div class="col-md-6 text-center text-md-start">
          <span>&copy; 2025 Wanderly. All rights reserved.</span>
        </div>
        <div class="col-md-6">
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>